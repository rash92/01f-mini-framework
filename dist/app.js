(()=>{"use strict";const e=e=>e.startsWith("on"),t=t=>"children"!==t&&!e(t),l=(e,t)=>l=>e[l]!==t[l],o=e=>e.toLowerCase().substring(2);function n(n,a,s){var c;s?(Object.keys(a).filter(e).filter((e=>!(e in s)||l(a,s)(e))).forEach((e=>n.customRemoveEventListener(o(e),a[e]))),Object.keys(a).filter(t).filter((c=s,e=>!(e in c))).forEach((e=>{n[e]=""})),Object.keys(s).filter(t).filter(l(a,s)).forEach((e=>{n[e]=s[e]})),Object.keys(s).filter(e).filter(l(a,s)).forEach((e=>n.customAddEventListener(o(e),s[e])))):console.log("unable to update dom, nextProps passed in is: ",s)}function a(e,t){e.dom?t.removeChild(e.dom):a(e.firstChild,t)}function s(e){if(!e)return;let t=e.parent;for(;!t.dom;)t=t.parent;const l=t.dom;if("APPEND"===e.effectTag&&null!=e.dom)l.appendChild(e.dom);else if("UPDATE"===e.effectTag&&null!=e.dom)n(e.dom,e.alternate.props,e.props);else if("DELETE"===e.effectTag)return void a(e,l);s(e.firstChild),s(e.sibling)}let c=null,i=null,r=null,u=null;requestIdleCallback((function e(t){let l=!1;for(;c&&!l;)c=m(c),l=t.timeRemaining()<1;!c&&i&&(u.forEach(s),s(i.firstChild),r=i,i=null),requestIdleCallback(e)}));let d=null,p=null;function m(e){if(e&&e.type||console.log("issue performing unit of work for fiber: ",e,"type: ",e.type),e.type instanceof Function?function(e){d=e,p=0,d.hooks=[];const t=[e.type(e.props)];f(e,t.flat())}(e):function(e){e.dom||(e.dom=function(e){const t="TEXT_ELEMENT"==e.type?document.createTextNode(""):document.createElement(e.type);return t.customAddEventListener=(e,l)=>{switch(e){case"click":t.onclick=l;break;case"dblclick":t.ondblclick=l;break;case"keydown":t.onkeydown=l;break;case"blur":t.onblur=l;break;case"mouseover":t.onmouseover=l;break;case"input":t.oninput=l;break;default:console.log("can't add event to listner: unknown event type")}},t.customRemoveEventListener=(e,l)=>{switch(e){case"click":t.onclick=null;break;case"dblclick":t.ondblclick=null;break;case"keydown":t.onkeydown=null;break;case"mouseover":t.onmouseover=null;break;case"input":t.oninput=null;break;default:console.log("can't remove event from listener: unknown event type to remove")}},n(t,{},e.props),t}(e)),e.props||console.log("fiber.props missing, fiber is: ",e),f(e,e.props.children.flat())}(e),e.firstChild)return e.firstChild;let t=e;for(;t;){if(t.sibling)return t.sibling;t=t.parent}}function f(e,t){let l=null,o=0,n=e.alternate&&e.alternate.firstChild;for(;o<t.length||null!=n;){const a=t[o];let s=null;const c=n&&a&&a.type==n.type;c&&(s={type:n.type,props:a.props,dom:n.dom,parent:e,alternate:n,effectTag:"UPDATE"}),a&&!c&&(s={type:a.type,props:a.props,dom:null,parent:e,alternate:null,effectTag:"APPEND"}),n&&!c&&(n.effectTag="DELETE",u.push(n)),n&&(n=n.sibling),0===o?e.firstChild=s:a&&(l.sibling=s),l=s,o++}}const g=function(e,t){for(var l=arguments.length,o=new Array(l>2?l-2:0),n=2;n<l;n++)o[n-2]=arguments[n];return{type:e,props:{...t,children:o.map((e=>"object"==typeof e?e:{type:"TEXT_ELEMENT",props:{nodeValue:e,children:[]}}))}}},k=function(e,t){i={dom:t,props:{children:[e]},alternate:r},u=[],c=i},h=function(e){const t=d.alternate&&d.alternate.hooks&&d.alternate.hooks[p],l={state:t?t.state:e,queue:[]};return(t?t.queue:[]).forEach((e=>{l.state=e(l.state)})),d.hooks.push(l),p++,[l.state,e=>{l.queue.push(e),i={dom:r.dom,props:r.props,alternate:r},c=i,u=[]}]},b=function(e){let t=window.location.hash.slice(2),l=!1;for(let o in e)t===o&&(e[o](),l=!0);l||console.log("route not found")};function v(e){let{onEnter:t}=e;return g("header",{className:"header"},g("h1",null,"todos"),g("div",{className:"input-container"},g("input",{id:"todo-input",className:"new-todo",type:"text",placeholder:"What needs to be done?",value:"",onKeyDown:t,autofocus:!0})))}function T(e){let{taskList:t,onToggleAll:l,route:o}=e;return 0===("completed"===o?t.filter((e=>e.completed)):"active"===o?t.filter((e=>!e.completed)):t).length?null:g("div",{className:"toggle-all-container"},g("input",{className:"toggle-all"},"toggle complete"),g("label",{className:"toggle-all-label",htmlfor:"toggle-all",onClick:l},"Toggle All Input"))}function y(e){let{taskList:t,onDelete:l,onToggleComplete:o,updateTask:n,route:a,onToggleAll:s}=e;return"completed"===a?g("main",{className:"main"},g(T,{taskList:t,onToggleAll:s,route:a}),g("ul",{className:"todo-list"},t.filter((e=>e.completed)).map((e=>g(E,{task:e,onToggleComplete:o,onDelete:l,updateTask:n}))))):"active"===a?g("main",{className:"main"},g(T,{taskList:t,onToggleAll:s,route:a}),g("ul",{className:"todo-list"},t.filter((e=>!e.completed)).map((e=>g(E,{task:e,onToggleComplete:o,onDelete:l,updateTask:n}))))):"all"===a?g("main",{className:"main"},g(T,{taskList:t,onToggleAll:s,route:a}),g("ul",{className:"todo-list"},t.map((e=>g(E,{task:e,onToggleComplete:o,onDelete:l,updateTask:n}))))):g("main",{className:"main"},g("div",null,"unknown route"))}function E(e){let{task:t,onToggleComplete:l,onDelete:o,updateTask:n}=e;const[a,s]=h(!1);console.log("todo item: ",t);const c=e=>{"Enter"===e.key&&(n(t.id,e.target.value),s((e=>!1))),"Escape"===e.key&&s((e=>!1))},i=g("div",{className:"view"},g("input",{className:"toggle",type:"checkbox",checked:t.completed,onClick:e=>{l(t.id,e)}}),g("label",{for:"",onDblclick:()=>{s((e=>!0))},onKeyDown:c},t.task),g("button",{className:"destroy",onClick:()=>o(t.id)}));console.log("viewing item is: ",i,"with :");const r=g("div",null,g("input",{id:"todo-edit",className:"edit",onKeyDown:c,label:"Edit Todo Input",defaultValue:t.task,onBlur:e=>{s((e=>!1))}}));return g("li",{className:[a?"editing":"",t.completed?"completed":""].join(" ")},a?r:i)}function C(e){let{onClear:t,completedCount:l,taskList:o}=e;return 0===o.length?null:g("footer",{className:"footer"},g("span",{className:"todo-count"},l," item",1===o.length?"":"s"," left"),g("ul",{className:"filters"},g("li",null,g("a",{href:"#/all"},"all")),g("li",null,g("a",{href:"#/active"},"active")),g("li",null,g("a",{href:"#/completed"},"completed"))),o.some((e=>e.completed))?g("button",{className:"clear-completed",onClick:t},"Clear Completed"):null)}const N=g("footer",{className:"info"},g("p",null,"Double-click to edit a todo"),g("p",null,"Created by the TodoMVC Team"),g("p",null,"Part of ",g("a",{href:"http://todomvc.com"},"TodoMVC")));k(g((function(){const[e,t]=h([]),[l,o]=h("all"),n=e.filter((e=>!e.completed)).length,a={all:()=>o((()=>"all")),completed:()=>o((()=>"completed")),active:()=>o((()=>"active")),"":()=>o((()=>"all"))};return window.onhashchange=()=>b(a),[g("section",{id:"root",className:"todoapp"},g(v,{onEnter:e=>{if("Enter"===e.key){const l={task:e.target.value,id:crypto.randomUUID(),completed:!1};t((e=>[...e,l])),e.target.value=""}}}),g(y,{taskList:e,onDelete:e=>{t((t=>[...t.filter((t=>t.id!==e))]))},onToggleComplete:(e,l)=>{console.log("event target from toggling complete:",l.target.checked),l.preventDefault(),t((t=>t.map((t=>t.id===e?{...t,completed:!t.completed}:t))))},onToggleAll:()=>{t((e=>"active"===l?e.map((e=>({...e,completed:!0}))):"completed"===l?e.map((e=>({...e,completed:!1}))):e.some((e=>!e.completed))?e.map((e=>({...e,completed:!0}))):e.map((e=>({...e,completed:!1})))))},updateTask:(e,l)=>{t((t=>t.map((t=>t.id===e?{...t,task:l}:t))))},route:l}),g(C,{taskList:e,onClear:()=>{t((e=>[...e.filter((e=>!e.completed))]))},completedCount:n})),N]}),null),document.body)})();